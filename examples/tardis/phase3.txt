Phase 3 sketch
October 2012

<!--  In order to create a generally usable discourse, this section really needs to be able to have the user say different things depending on what previous position the user has held.  I have tried to do that by using variables for the user's position, worklocation, duration of work and duties.
-->

var userposition = "secretary";
var userworklocation = "my brotherâ€™s healthcare clinic";
var durationwork = "2 years";
var duties = "using Word, answering the phone, responding in a timely way to emails, handling correspondence for my boss, and assisting my boss with whatever is required";
var userUnemployed = false;

task PreviousWork
 subtask previous
   step PreviousExperience
   step Unemployment
   step UnemploymentActivities
endsubtask
endtask

agent id=PreviousExperience text=previous.experience
      [DF: Can you tell me more about your previous experience as a {userposition}?
       DH: What has been your  previous experience as a {userposition}?]
       user text= I worked as a {userposition} at {userworklocation} for {duration}. I did the usual things that a {userposition} does.  /user looks down as she offers this info.
       	    eval agentFrustration = agentFrustration + 1
       user text= I have been a {userposition} at {userworklocation} for {duration}.  My duties included {duties}.
       user text= For the past {duration} I have been {userposition} at {userworklocation}.  My employer doesn't give me much free time, but requires that I work extra every day.  I don't like that.
   	    eval agentFrustration = agentFrustration + 1

<--!  I have used specific times below.  Should be made more general.
-->

agent id=Unemployment text=unemployed
      [DF:  Please tell me if you are or have you been unemployed? And for how long?
       DH:  Are you now or were you unemployed?  How long were you unemployed?]
       user text=No I have not been unemployed over the past several years. 
       	    /gaze aversion here would be quite odd--it would indicate untruthfulness! 
       user text=I am unemployed.  It's been 1.5 years.
       	    /user averts her gaze, voice with low energy, face is sad. 
       	   eval userUnemployed = true
       user text=I am not unemployed.  However, I was 2 years ago for 3 months.
       	    /user has a briefly sad face but looks directly at agent.  Gaze aversion would be odd. 
	     Normal face would be okay tool

agent id=UnemploymentActivities text=UnempAct
      [DF:  Can you tell me what you did during this unemployment period?
       DH:  What did you do during this unemployment period?]
       precondition userUnemployed 
<-- here's a place where being able to change agent personalities translates file could matter.  As the agent grows more frustrated, he's still the same personality, but he's now also getting frustrated. So even the friendly agent might not ask quite as politely above. To do this, you could his level of frustration at the end of the previous step for each user response that is positive about unemployment. If high, then you load in the DF+frustration or DH+frustration translates files.  Or you could do it no matter what the user says in order to update the way to talk for the remainder of the conversation.

     user text=I applied for various jobs.  I also went to the gym alot.
     	    eval agentFrustration = agentFrustration + 1
	    /user hesitates; user averts gaze down and away.
     user text= I applied for various jobs.  I took a temporary job to learn some new skills and keep fresh.
     	  /expect that the user looks the agent in the face.  gaze aversion indicates distress but okay here?
     user text=I got unemployment and took care of my family.  I did apply for jobs but nothing came along.
     	  /user gaze aversion and speech with low volume and intensity.
  	    eval agentFrustration = agentFrustration + 1
  
