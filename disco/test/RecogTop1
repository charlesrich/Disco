load models/Test.xml
debug
# Root1, Root2 and Root3 are @top=false in Test.properties
# unexplained
execute Prim5
history
clear

eval $disco.getTaskClass("Root1").setTop(true)
eval $disco.getTaskClass("Root2").setTop(true)
eval $disco.getTaskClass("Root3").setTop(true)
execute Prim5
# Recognize Root1
history 
clear

# Ambiguous: Root1, Root3
execute Prim1
history
clear

eval $disco.getTaskClass("Abs2").setTop(true)
execute Prim1
# Recognize Abs2
history
clear

# Ambiguous: Root1, Root2, Root3, Abs2
execute Prim2
history
clear

eval $disco.getTaskClass("Abs1").setTop(true)
execute Prim1
# Recognize Abs2
history
clear

# Ambiguous: Root1, Root2, Root3, Abs2, Abs1
execute Prim2
history
clear

execute Prim5
# Recognize Root1
history
clear

eval $disco.getTaskClass("Root3").setTop(false)
execute Prim1
execute Prim2
execute Prim3
execute Prim4
# Recognize Root1
history

quit

# last test does not work yet because too late to "insert" new Root1 as top after
# it has been eliminated and Abs2 has been started
# unless maybe call recog *again* after Abs2 completed (actually after next occurrrence)?
# And start a *new* toplevel plan (e.g., Root1) as appropriate? (Do some surgery to prevent
# duplication in history)---> essentially are splicing Root1 in!
# But only do this after a toplevel completed, not just any non-primitive (just
# to catch this case)?
clear
eval $disco.getTaskClass("Root3").setTop(false)
execute Prim1
execute Prim2
execute Prim3
execute Prim4
# Recognize Root1
history



